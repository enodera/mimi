[gd_scene load_steps=47 format=3 uid="uid://clm8txt8vucnj"]

[ext_resource type="PackedScene" uid="uid://bfphloixx5sjd" path="res://MimiModels/1.7 (might glitch)/Mimi1.7.glb" id="1_lu0p3"]
[ext_resource type="Script" uid="uid://cbpgho3cvvjnn" path="res://Models/mimi.gd" id="2_ucfyq"]
[ext_resource type="PackedScene" uid="uid://b4rqsjnq3tycs" path="res://MimiModels/broom/broom.glb" id="3_q8om7"]
[ext_resource type="Texture2D" uid="uid://d5cxfutiyp6n" path="res://Particles/PNG (Transparent)/magic_05.png" id="4_8qqa5"]

[sub_resource type="CylinderShape3D" id="CylinderShape3D_q8om7"]
height = 10.8403
radius = 1.18213

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_bmlvo"]
transparency = 1
blend_mode = 1
albedo_texture = ExtResource("4_8qqa5")
billboard_mode = 1
billboard_keep_scale = true

[sub_resource type="Curve" id="Curve_8qqa5"]
_data = [Vector2(0, 0.776993), 0.0, 0.0, 0, 0, Vector2(0.078125, 1), -7.00504, -7.00504, 0, 0, Vector2(0.463542, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_bmlvo"]
curve = SubResource("Curve_8qqa5")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_q8om7"]
spread = 180.0
initial_velocity_min = 0.1
initial_velocity_max = 0.3
gravity = Vector3(0, 0, 0)
scale_min = 0.0
scale_max = 2.0
scale_curve = SubResource("CurveTexture_bmlvo")
scale_over_velocity_min = 1.0
scale_over_velocity_max = 1.0

[sub_resource type="QuadMesh" id="QuadMesh_q80da"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4j7dy"]
animation = &"air"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8qqa5"]
animation = &"damagestatic"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_os4be"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_63vcv"]
animation = &"jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_703g3"]
animation = &"squat2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_08jc3"]
animation = &"swing1"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hr756"]
animation = &"swing2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_axkop"]
animation = &"swing3"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ucfyq"]
animation = &"slowrun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_q8om7"]
animation = &"run"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_sqd6o"]
blend_point_0/node = SubResource("AnimationNodeAnimation_ucfyq")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_q8om7")
blend_point_1/pos = 1.0
min_space = 0.0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7ddtp"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_os4be"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kvd6t"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4j7dy"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4mlrb"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_q0ykw"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_33n2d"]
xfade_time = 0.02

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7n175"]
xfade_time = 0.15

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_khn7c"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_63vcv"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_goasn"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6118d"]
xfade_time = 0.1

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_qtg4n"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dqil7"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5bxig"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_iyj5y"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wlfwc"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_08jc3"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hr756"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_axkop"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_epdlo"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8jjq6"]
xfade_time = 0.2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_orn57"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8qqa5"]
switch_mode = 1

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_8qqa5"]
states/Start/position = Vector2(284, 65)
states/air/node = SubResource("AnimationNodeAnimation_4j7dy")
states/air/position = Vector2(538, 216)
states/hitstun/node = SubResource("AnimationNodeAnimation_8qqa5")
states/hitstun/position = Vector2(821, 181)
states/idle/node = SubResource("AnimationNodeAnimation_os4be")
states/idle/position = Vector2(409, 89)
states/jump/node = SubResource("AnimationNodeAnimation_63vcv")
states/jump/position = Vector2(518, 170)
states/squat/node = SubResource("AnimationNodeAnimation_703g3")
states/squat/position = Vector2(575, 306)
states/swing1/node = SubResource("AnimationNodeAnimation_08jc3")
states/swing1/position = Vector2(424, -54)
states/swing2/node = SubResource("AnimationNodeAnimation_hr756")
states/swing2/position = Vector2(546, -54)
states/swing3/node = SubResource("AnimationNodeAnimation_axkop")
states/swing3/position = Vector2(658, -74)
states/walkrun/node = SubResource("AnimationNodeBlendSpace1D_sqd6o")
states/walkrun/position = Vector2(555, 89)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_7ddtp"), "idle", "walkrun", SubResource("AnimationNodeStateMachineTransition_os4be"), "walkrun", "idle", SubResource("AnimationNodeStateMachineTransition_kvd6t"), "walkrun", "jump", SubResource("AnimationNodeStateMachineTransition_4j7dy"), "squat", "walkrun", SubResource("AnimationNodeStateMachineTransition_4mlrb"), "squat", "idle", SubResource("AnimationNodeStateMachineTransition_q0ykw"), "idle", "jump", SubResource("AnimationNodeStateMachineTransition_33n2d"), "jump", "air", SubResource("AnimationNodeStateMachineTransition_7n175"), "air", "squat", SubResource("AnimationNodeStateMachineTransition_khn7c"), "idle", "air", SubResource("AnimationNodeStateMachineTransition_63vcv"), "walkrun", "air", SubResource("AnimationNodeStateMachineTransition_goasn"), "jump", "squat", SubResource("AnimationNodeStateMachineTransition_6118d"), "idle", "swing1", SubResource("AnimationNodeStateMachineTransition_qtg4n"), "swing1", "swing2", SubResource("AnimationNodeStateMachineTransition_dqil7"), "swing2", "swing3", SubResource("AnimationNodeStateMachineTransition_5bxig"), "swing1", "idle", SubResource("AnimationNodeStateMachineTransition_iyj5y"), "walkrun", "swing1", SubResource("AnimationNodeStateMachineTransition_wlfwc"), "swing1", "walkrun", SubResource("AnimationNodeStateMachineTransition_08jc3"), "swing2", "idle", SubResource("AnimationNodeStateMachineTransition_hr756"), "swing2", "walkrun", SubResource("AnimationNodeStateMachineTransition_axkop"), "swing3", "walkrun", SubResource("AnimationNodeStateMachineTransition_epdlo"), "swing3", "idle", SubResource("AnimationNodeStateMachineTransition_8jjq6"), "hitstun", "idle", SubResource("AnimationNodeStateMachineTransition_orn57"), "idle", "hitstun", SubResource("AnimationNodeStateMachineTransition_8qqa5")]
graph_offset = Vector2(40, -86.5144)

[node name="Mimi1_7" instance=ExtResource("1_lu0p3")]
script = ExtResource("2_ucfyq")

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(0, -0.303566, 0.0129816)
bones/0/rotation = Quaternion(0.0616549, 0, 0, 0.998098)
bones/1/rotation = Quaternion(-0.0278019, 1.19163e-07, -3.31425e-09, 0.999613)
bones/2/rotation = Quaternion(0.0125822, 6.99441e-15, 2.99983e-09, 0.999921)
bones/7/rotation = Quaternion(0.789503, 0.117962, -0.601689, 0.0272229)
bones/8/rotation = Quaternion(5.64598e-08, -1.65547e-07, -0.0595439, 0.998226)
bones/9/rotation = Quaternion(-2.78795e-07, 3.57219e-07, 0.223159, 0.974782)
bones/10/rotation = Quaternion(2.73864e-08, -4.74783e-07, -0.0191554, 0.999817)
bones/11/rotation = Quaternion(0.854818, -0.0749213, 0.50122, 0.111586)
bones/12/rotation = Quaternion(6.83894e-08, 1.50746e-07, 0.0682793, 0.997666)
bones/13/rotation = Quaternion(-3.68636e-07, -3.60436e-07, -0.288178, 0.957577)
bones/14/rotation = Quaternion(1.92576e-08, 4.62708e-07, 0.0191554, 0.999817)
bones/15/rotation = Quaternion(0.70082, -0.120447, -0.693466, 0.115966)
bones/16/rotation = Quaternion(0.0362469, 0.000641455, -0.483846, 0.874402)
bones/17/rotation = Quaternion(-0.00998638, -0.0102266, 0.894263, 0.447314)
bones/18/rotation = Quaternion(-0.000707201, 1.40563e-09, 0.00326489, 0.999994)
bones/19/rotation = Quaternion(0.715937, 0.0622204, 0.693292, 0.0539405)
bones/20/rotation = Quaternion(0.0248317, -0.000691653, 0.331468, 0.943139)
bones/21/rotation = Quaternion(-0.00908286, 0.00916453, -0.890183, 0.455421)
bones/22/rotation = Quaternion(-0.000418132, -1.35834e-09, -0.00325143, 0.999995)
bones/23/position = Vector3(-0.374354, -0.0836911, 0.316545)
bones/23/rotation = Quaternion(0.520482, 0.479041, -0.515024, -0.484117)
bones/24/position = Vector3(-0.0228145, 1.20412, 0.688484)
bones/24/rotation = Quaternion(0.999949, -3.77497e-08, 0.010137, -1.06831e-11)
bones/25/position = Vector3(0.406916, -0.148216, 0.0323995)
bones/25/rotation = Quaternion(0.520482, -0.479041, 0.515024, -0.484117)
bones/26/position = Vector3(0.100421, 0.613941, 0.204971)
bones/26/rotation = Quaternion(0.999949, 1.17135e-09, -0.0101367, 3.8539e-12)
bones/27/position = Vector3(0.130569, -1.51774, -0.374022)
bones/28/position = Vector3(0.775447, -1.28488, -0.00379228)
bones/29/position = Vector3(0.147408, -1.62037, 0.299076)
bones/29/rotation = Quaternion(0, 0.707107, 0.707107, 0)
bones/30/position = Vector3(-0.142733, -1.61411, -0.386687)
bones/31/position = Vector3(-0.709759, -0.828908, 0.0145426)
bones/31/rotation = Quaternion(-0.292646, 0.650879, 0.301164, 0.632468)
bones/32/position = Vector3(-0.147408, -1.62037, 0.356706)
bones/32/rotation = Quaternion(0, 0.707107, 0.707107, 0)
bones/33/position = Vector3(2.21717, 1.26178, 0.0959769)
bones/34/position = Vector3(2.47184, 1.26178, 0.0959769)

[node name="Hair1" parent="Armature/Skeleton3D" index="0"]
transform = Transform3D(-3.01377e-08, 9.94198e-09, -0.248586, 0.00933125, 0.170165, 1.3815e-08, 0.248411, -0.00639202, -2.84746e-08, -0.0089156, 1.35538, 0.169383)

[node name="Hair2" parent="Armature/Skeleton3D" index="1"]
transform = Transform3D(1.65857e-08, 1.47177e-08, -0.0621839, 0.0323325, 0.302758, 3.69045e-09, 0.149874, -0.0653145, 3.43992e-10, 0.00888653, 1.14663, 0.186421)

[node name="Hair3" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(9.80658e-08, 4.91349e-08, -1.21312, 0.207443, 1.08969, 9.45717e-08, 0.892633, -0.253238, 1.54057e-07, 0.00888656, 1.11859, -0.0592406)

[node name="BoneAttachment" type="BoneAttachment3D" parent="Armature/Skeleton3D" index="4"]
unique_name_in_owner = true
transform = Transform3D(0.300745, 0.138137, -0.943647, -0.0687812, -0.983736, -0.165926, -0.951221, 0.114807, -0.286353, 0.409771, -0.455375, 0.0384881)
bone_name = "hand.l"
bone_idx = 10

[node name="broom" parent="Armature/Skeleton3D/BoneAttachment" index="0" instance=ExtResource("3_q8om7")]
unique_name_in_owner = true
transform = Transform3D(0.247692, -0.119325, -0.00595923, 0.0487046, 0.0883227, 0.255836, -0.109096, -0.231486, 0.100685, 0, 0, 0.181)

[node name="Area3D" type="Area3D" parent="Armature/Skeleton3D/BoneAttachment/broom" index="1" groups=["playerattack"]]

[node name="Hitbox" type="CollisionShape3D" parent="Armature/Skeleton3D/BoneAttachment/broom/Area3D" index="0"]
unique_name_in_owner = true
transform = Transform3D(0.999999, -4.47035e-07, -5.58794e-09, -3.27826e-07, 0.999998, 8.56817e-08, -2.65986e-06, -1.49012e-08, 1, -1.88744, 3.5689, -0.403995)
shape = SubResource("CylinderShape3D_q8om7")

[node name="AttackParticles" type="GPUParticles3D" parent="Armature/Skeleton3D/BoneAttachment/broom" index="2"]
unique_name_in_owner = true
transform = Transform3D(3.34083, 0.0589139, -1.43473, -1.35356, 1.3422, -3.0967, 0.479395, 3.37908, 1.25505, 0.0724511, 6.57661, 0.261213)
material_override = SubResource("StandardMaterial3D_bmlvo")
amount = 100
speed_scale = 1.5
fixed_fps = 60
process_material = SubResource("ParticleProcessMaterial_q8om7")
draw_pass_1 = SubResource("QuadMesh_q80da")

[node name="Cube_ignore" parent="." index="1"]
visible = false

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeStateMachine_8qqa5")
anim_player = NodePath("../AnimationPlayer")
parameters/walkrun/blend_position = -0.265568
