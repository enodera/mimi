[gd_scene load_steps=38 format=3 uid="uid://dgmj5knh2pa0s"]

[ext_resource type="PackedScene" uid="uid://co43wkwhjr487" path="res://MimiModels/mage/mage1.glb" id="1_7gco5"]
[ext_resource type="Texture2D" uid="uid://ck1li6b7jki2c" path="res://Enemies/GenericTest/spark.png" id="3_rvvsk"]
[ext_resource type="Texture2D" uid="uid://dpi7pg605g7gi" path="res://Enemies/Models/mage2_magepalette.png" id="4_snwyj"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5oqo1"]
albedo_texture = ExtResource("4_snwyj")
emission_enabled = true
emission = Color(0, 0.444, 0.72, 1)
emission_texture = ExtResource("4_snwyj")

[sub_resource type="Curve" id="Curve_mcsra"]
_data = [Vector2(0, 0), 0.0, 1.52688, 0, 0, Vector2(0.984375, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_5rcum"]
curve = SubResource("Curve_mcsra")

[sub_resource type="Gradient" id="Gradient_5oqo1"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_36d6g"]
gradient = SubResource("Gradient_5oqo1")

[sub_resource type="Curve" id="Curve_ojyi1"]
_data = [Vector2(0, 0), 0.0, 3.88025, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_j5php"]
curve = SubResource("Curve_ojyi1")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_331ri"]
particle_flag_rotate_y = true
angle_min = -360.0
angle_max = 360.0
angle_curve = SubResource("CurveTexture_5rcum")
direction = Vector3(0, 1, 0)
spread = 180.0
initial_velocity_min = 1.0
initial_velocity_max = 2.0
radial_velocity_min = -2.23517e-05
radial_velocity_max = 9.99998
gravity = Vector3(0, 0, 0)
color = Color(1, 0, 0, 1)
color_ramp = SubResource("GradientTexture1D_36d6g")
hue_variation_min = -1.0
hue_variation_max = 1.0
hue_variation_curve = SubResource("CurveTexture_j5php")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7w4ni"]
transparency = 1
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("3_rvvsk")
emission_enabled = true
emission = Color(0.533037, 0.533037, 0.533037, 1)
billboard_mode = 3
billboard_keep_scale = true
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="QuadMesh" id="QuadMesh_4nya2"]
material = SubResource("StandardMaterial3D_7w4ni")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7gco5"]
albedo_texture = ExtResource("4_snwyj")
emission_enabled = true
emission_texture = ExtResource("4_snwyj")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_snwyj"]
albedo_color = Color(0, 0, 0, 1)
albedo_texture = ExtResource("4_snwyj")
emission_enabled = true
emission = Color(0.927272, 0.587028, 0.488766, 1)
emission_operator = 1
emission_texture = ExtResource("4_snwyj")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rvvsk"]
albedo_texture = ExtResource("4_snwyj")
emission_enabled = true
emission_texture = ExtResource("4_snwyj")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ef12i"]
albedo_texture = ExtResource("4_snwyj")
emission_enabled = true
emission_texture = ExtResource("4_snwyj")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6fmnh"]
albedo_color = Color(0, 0, 0, 1)
metallic_specular = 0.0
roughness = 0.0
emission_enabled = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_6fmnh"]
animation = &"attack"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5haub"]
animation = &"damagestatic"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ojyi1"]
animation = &"disappear"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mcsra"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5oqo1"]
animation = &"run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ojyi1"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_331ri"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4nya2"]
xfade_time = 0.25

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_s26ai"]
xfade_time = 0.25

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6fmnh"]
xfade_time = 0.25

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5haub"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_mcsra"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5oqo1"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_73p7e"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_j3tme"]
xfade_time = 0.25

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7v1cb"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ee3nb"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ylxhl"]
xfade_time = 0.05

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_73p7e"]
states/Start/position = Vector2(199, 100)
states/attack/node = SubResource("AnimationNodeAnimation_6fmnh")
states/attack/position = Vector2(504, 194)
states/damagestatic/node = SubResource("AnimationNodeAnimation_5haub")
states/damagestatic/position = Vector2(563, 52)
states/disappear/node = SubResource("AnimationNodeAnimation_ojyi1")
states/disappear/position = Vector2(691, 139)
states/idle/node = SubResource("AnimationNodeAnimation_mcsra")
states/idle/position = Vector2(340, 86)
states/walk/node = SubResource("AnimationNodeAnimation_5oqo1")
states/walk/position = Vector2(589, 137)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_ojyi1"), "idle", "attack", SubResource("AnimationNodeStateMachineTransition_331ri"), "idle", "walk", SubResource("AnimationNodeStateMachineTransition_4nya2"), "walk", "idle", SubResource("AnimationNodeStateMachineTransition_s26ai"), "attack", "idle", SubResource("AnimationNodeStateMachineTransition_6fmnh"), "idle", "damagestatic", SubResource("AnimationNodeStateMachineTransition_5haub"), "damagestatic", "idle", SubResource("AnimationNodeStateMachineTransition_mcsra"), "walk", "damagestatic", SubResource("AnimationNodeStateMachineTransition_5oqo1"), "damagestatic", "walk", SubResource("AnimationNodeStateMachineTransition_73p7e"), "idle", "disappear", SubResource("AnimationNodeStateMachineTransition_j3tme"), "disappear", "idle", SubResource("AnimationNodeStateMachineTransition_7v1cb"), "attack", "damagestatic", SubResource("AnimationNodeStateMachineTransition_ee3nb"), "disappear", "damagestatic", SubResource("AnimationNodeStateMachineTransition_ylxhl")]

[node name="mage1" instance=ExtResource("1_7gco5")]

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(0, -0.645907, 0)
bones/1/rotation = Quaternion(-0.70172, 0.0871174, 0.70172, 0.0871178)
bones/2/rotation = Quaternion(0.248774, 0.580989, -0.403055, 0.661899)
bones/5/position = Vector3(-0.639994, 0.425029, -0.0901327)
bones/5/rotation = Quaternion(-0.40308, 0.661899, 0.248778, 0.580969)
bones/6/rotation = Quaternion(-0.0508888, 1.63701e-07, 3.26069e-08, 0.998704)
bones/12/position = Vector3(0, 1.59925, 0)
bones/13/rotation = Quaternion(-6.97971e-07, 3.20425e-05, -4.26723e-05, 1)

[node name="hand_r" parent="Armature/Skeleton3D" index="0"]
transform = Transform3D(-0.540684, -1.82866e-05, 6.78586e-06, 1.94647e-05, -0.490002, 0.228554, -1.66545e-06, 0.228554, 0.49, -2.89165e-05, -0.09199, -2.01533)

[node name="hand_l" parent="Armature/Skeleton3D" index="1"]
transform = Transform3D(-0.535422, 2.40804e-06, 0.0752511, -0.0318083, -0.490014, -0.226305, 0.0681975, -0.228528, 0.485243, 8.81244e-07, -0.0919201, 2.01537)

[node name="Cylinder" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(0.43479, 0.900532, 0.00132038, -0.9, 0.434481, 0.0350269, 0.0309693, -0.0164175, 0.999386, 0.854899, 0.170112, 1.89402)

[node name="Roundcube_001" parent="Armature/Skeleton3D" index="3"]
transform = Transform3D(0.237611, 0.492137, 0.000721585, -0.491846, 0.237442, 0.0191421, 0.0169246, -0.00897212, 0.54616, 2.1652, 0.802297, 1.87013)

[node name="Roundcube_001" parent="Armature/Skeleton3D/Roundcube_001" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_5oqo1")

[node name="WandParticles" type="GPUParticles3D" parent="Armature/Skeleton3D/Roundcube_001/Roundcube_001" index="0"]
transform = Transform3D(2, 2.98023e-08, 5.96046e-08, 0, 2, -1.19209e-07, 0, -1.78814e-07, 2, 0.270404, -0.541619, 0.0801208)
amount = 5
fixed_fps = 60
process_material = SubResource("ParticleProcessMaterial_331ri")
draw_pass_1 = SubResource("QuadMesh_4nya2")

[node name="body" parent="Armature/Skeleton3D" index="4"]
transform = Transform3D(0.993525, 0.113615, 1.36115e-08, -0.113615, 0.993525, 1.18941e-08, 2.43973e-07, -2.86584e-08, 1, -2.04891e-08, 1.18408, -6.35654e-08)

[node name="body" parent="Armature/Skeleton3D/body" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_7gco5")

[node name="ringg" parent="Armature/Skeleton3D" index="5"]
transform = Transform3D(0.0262049, 0.0144726, -0.0286468, 0.0163779, -0.0498419, 0.00327591, -0.0229602, -0.019035, -0.0303581, -0.103467, 0.637436, -3.37411e-07)

[node name="ringg" parent="Armature/Skeleton3D/ringg" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_snwyj")

[node name="Cone" parent="Armature/Skeleton3D" index="6"]
transform = Transform3D(0.493891, 7.33817e-05, 3.16491e-05, -4.21614e-05, 0.859615, 6.90681e-07, -3.16491e-05, -1.20683e-06, 0.493891, 7.41578e-05, 2.60627, -1.19632e-06)

[node name="Cone" parent="Armature/Skeleton3D/Cone" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_rvvsk")

[node name="hat" parent="Armature/Skeleton3D" index="7"]
transform = Transform3D(1.77748, 0.0123719, 0.000114939, 0.240115, -0.0915845, 2.51396e-06, -0.000114241, -6.64448e-07, 1.79363, -8.43545e-06, 1.63896, 1.49203e-07)

[node name="hat" parent="Armature/Skeleton3D/hat" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_ef12i")

[node name="face" parent="Armature/Skeleton3D" index="8"]
transform = Transform3D(0.693439, 2.02563e-08, -2.77507e-09, -2.02563e-08, 0.693439, 1.16416e-09, 2.77507e-09, -1.16416e-09, 0.693439, 3.46445e-08, 1.27807, -3.60888e-09)

[node name="face" parent="Armature/Skeleton3D/face" index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_6fmnh")

[node name="eyes" parent="Armature/Skeleton3D" index="9"]
transform = Transform3D(-0.202475, 0.0805309, -0.476975, -0.0166264, -0.517927, -0.0803872, -0.48344, -0.0159156, 0.202532, 0.577212, 1.35267, -0.333426)

[node name="Roundcube_002" parent="Armature/Skeleton3D" index="10"]
transform = Transform3D(0.470494, 0.201618, 0.113899, 0.102603, 0.0497206, -0.511847, -0.207594, 0.481524, 0.00516134, 0.577212, 1.35267, -0.313645)

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeStateMachine_73p7e")
anim_player = NodePath("../AnimationPlayer")
